# Interlink System - ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö B2B

## üìã ‡∏™‡∏£‡∏∏‡∏õ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

**Interlink System** ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 2 ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:

### üîß Backend (API Server) ‚úÖ ACTIVE
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå
- ‚úÖ JWT Authentication ‡πÅ‡∏•‡∏∞ RBAC Authorization
- ‚úÖ API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
- ‚úÖ **Stock Management APIs**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö atomic operations (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
- ‚úÖ **Order Management APIs**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏° stock reservation (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
- ‚úÖ **Storefront APIs**: ‡∏£‡∏∞‡∏ö‡∏ö E-commerce ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
- ‚úÖ **File Upload System**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö configurable (Local/S3) (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
- üìã ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÅ‡∏ö‡∏ö Subscription ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)
- üìã **Store Product Creation**: API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)

### üé® Frontend (Web Applications)
- **Admin Dashboard**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
- **Store Dashboard**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
- **Storefront**: ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (Public)
- ‡∏£‡∏∞‡∏ö‡∏ö Authentication UI ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ session

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏´‡∏•‡∏±‡∏Å

1. **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÑ‡∏´‡∏ô‡πÑ‡∏î‡πâ
2. **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡πÅ‡∏¢‡∏Å‡∏£‡πâ‡∏≤‡∏ô**: ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡∏°‡∏µ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡∏≤‡∏á
3. **‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏≠‡∏á‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏£‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
4. **Subscription Model**: ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
5. **üÜï ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤**: Admin ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ß‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö

---

# üîß BACKEND ARCHITECTURE

## Backend Stack
- **Framework**: NestJS ‡πÅ‡∏ö‡∏ö Modular Monolith
- **Database**: PostgreSQL (1 instance)
- **ORM**: Prisma
- **Authentication**: JWT + OTP
- **File Storage**: S3-compatible ‡∏´‡∏£‡∏∑‡∏≠ local storage
- **Background Jobs**: node-cron (in-process scheduler)
- **API Documentation**: Swagger/OpenAPI

## Backend Modules
```
‚îú‚îÄ‚îÄ auth/                    # ‚úÖ Authentication & Authorization (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
‚îú‚îÄ‚îÄ users/                   # ‚úÖ User management (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
‚îú‚îÄ‚îÄ stores/                  # ‚úÖ Store management (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
‚îú‚îÄ‚îÄ brands/                  # ‚úÖ Brand management (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
‚îú‚îÄ‚îÄ products/                # ‚úÖ Product catalog (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
‚îú‚îÄ‚îÄ entitlements/            # ‚úÖ Store-Brand permissions (‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
‚îú‚îÄ‚îÄ üÜï product-permissions/  # Store product creation permissions (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)
‚îú‚îÄ‚îÄ stock/                   # ‚úÖ Inventory management (Phase 4) - ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
‚îú‚îÄ‚îÄ orders/                  # ‚úÖ Order processing (Phase 4) - ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
‚îú‚îÄ‚îÄ storefront/              # ‚úÖ Public storefront APIs (Phase 5) - ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
‚îú‚îÄ‚îÄ uploads/                 # ‚úÖ File upload handling (Phase 5) - ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
‚îú‚îÄ‚îÄ billing/                 # Subscription & payments (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)
‚îú‚îÄ‚îÄ payments/                # Payment processing (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)
‚îú‚îÄ‚îÄ reporting/               # Analytics & reports (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)
‚îî‚îÄ‚îÄ notifications/           # Email & alerts (‡∏£‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤)
```

## Database Design
- **PostgreSQL** (1 instance)
- ‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢ store_id/tenant_id
- ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô Row Level Security (RLS) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- Indexes ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö performance

## Background Jobs
- **node-cron** (in-process scheduler)
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ reservation ‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤
- ‡∏™‡πà‡∏á notifications
- üÜï Product approval reminders

## API Design Principles
- RESTful APIs
- Consistent error handling
- Request/Response validation
- Rate limiting
- API versioning support

---

# üé® FRONTEND ARCHITECTURE

## Frontend Stack
- **Framework**: Next.js (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: Zustand ‡∏´‡∏£‡∏∑‡∏≠ Redux Toolkit
- **Form Handling**: React Hook Form + Zod
- **HTTP Client**: Axios ‡∏´‡∏£‡∏∑‡∏≠ native fetch
- **Authentication**: NextAuth.js ‡∏´‡∏£‡∏∑‡∏≠ custom JWT handling

## Frontend Applications

### 1. Admin Dashboard (`/admin`)
- **Purpose**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏î‡∏¢ Super Admin
- **Features**:
  - Brand management
  - Store management
  - Product catalog management
  - üÜï Store product permissions
  - üÜï Product approval queue
  - System-wide analytics
  - User management

### 2. Store Dashboard (`/store`)
- **Purpose**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÇ‡∏î‡∏¢ Store owners
- **Features**:
  - Store profile management
  - Product import from catalog
  - üÜï Create own products
  - Stock management
  - Order management
  - Sales reports
  - Subscription management

### 3. Storefront (`/shop/{storeSlug}`)
- **Purpose**: ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (Public)
- **Features**:
  - Product catalog display
  - Shopping cart
  - Guest checkout
  - Order tracking
  - Mobile responsive

## Frontend Routing Strategy
```
‚îú‚îÄ‚îÄ /admin/*              # Admin Dashboard (Protected)
‚îú‚îÄ‚îÄ /store/*              # Store Dashboard (Protected)
‚îú‚îÄ‚îÄ /shop/{storeSlug}/*   # Public Storefront (SSR/ISR)
‚îú‚îÄ‚îÄ /auth/*               # Authentication pages
‚îî‚îÄ‚îÄ /api/*                # API routes (if using Next.js API)
```

## Rendering Strategy
- **Admin/Store Dashboards**: CSR (Client-Side Rendering)
- **Storefront**: ISR/SSR (Incremental Static Regeneration/Server-Side Rendering)
- **Authentication**: CSR with proper redirects

## üìä ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
```
stores - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
brands - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå
store_brand_entitlements - ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô
üÜï store_product_permissions - ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô
products - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏à‡∏≤‡∏Å central + store-created)
product_variants - variants ‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏™‡∏µ/‡πÑ‡∏ã‡∏ï‡πå)
store_stock - ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô
orders - ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
order_items - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
reservations - ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏ï‡πä‡∏≠‡∏Å
customers - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (guest allowed)
subscriptions - ‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô
üÜï product_approval_queue - ‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á
```

### üÜï ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏´‡∏°‡πà: Store Product Permissions

#### store_product_permissions
```sql
id: UUID (PK)
store_id: UUID (FK -> stores.id)
brand_id: UUID (FK -> brands.id) 
can_create_products: BOOLEAN (‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ/‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
requires_approval: BOOLEAN (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Admin/Brand)
max_products_per_month: INTEGER (‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, NULL = ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î)
allowed_categories: JSONB (‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï, NULL = ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
pricing_rules: JSONB (‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô markup ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥/‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
effective_from: TIMESTAMP
effective_to: TIMESTAMP
created_by: UUID (Admin ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏é)
updated_at: TIMESTAMP
created_at: TIMESTAMP

UNIQUE(store_id, brand_id)
INDEX(store_id, effective_from, effective_to)
```

#### product_approval_queue
```sql
id: UUID (PK)
store_id: UUID (FK)
brand_id: UUID (FK)
product_data: JSONB (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏™‡πà‡∏á‡∏°‡∏≤)
status: ENUM ('PENDING', 'APPROVED', 'REJECTED', 'REVISION_REQUIRED')
submitted_by: UUID (Store user ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á)
reviewed_by: UUID (Admin/Brand user ‡∏ó‡∏µ‡πà‡∏£‡∏µ‡∏ß‡∏¥‡∏ß)
rejection_reason: TEXT
revision_notes: TEXT
approved_product_id: UUID (‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß link ‡πÑ‡∏õ products.id)
submitted_at: TIMESTAMP
reviewed_at: TIMESTAMP
```

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï)

1. **Admin** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
2. **Admin** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå
3. **üÜï Admin** ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô
4. **‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤** ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏ï‡πä‡∏≠‡∏Å
5. **üÜï ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á (‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï) ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
6. **üÜï Admin/Brand** ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏™‡πà‡∏á‡∏°‡∏≤
7. **‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤** ‡∏™‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
8. **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤** ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å)
9. **‡∏£‡∏∞‡∏ö‡∏ö** ‡∏à‡∏≠‡∏á‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏£‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô/‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
10. **‡∏£‡∏∞‡∏ö‡∏ö** ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

## üÜï ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà: ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤

### ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç (Admin Control)
1. **‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå**: Admin ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ
2. **‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Admin/Brand ‡∏Å‡πà‡∏≠‡∏ô‡∏Ç‡∏≤‡∏¢
3. **‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
4. **‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á
5. **‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î markup ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥/‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï

### Store Product Creation Workflow
1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå**: ‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô brand ‡∏ô‡∏±‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤**: ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ä‡∏∑‡πà‡∏≠, ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ï‡πà‡∏≤‡∏á ‡πÜ (‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô)
4. **‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏¥‡∏ß**: ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‚Üí ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ approval queue, ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
5. **‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥**: Admin/Brand ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô (APPROVED/REJECTED/REVISION_REQUIRED)
6. **‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•**: ‡πÅ‡∏à‡πâ‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•/dashboard

## üîí ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### Authentication & Authorization
- **JWT** (access + refresh tokens)
- **RBAC**: ADMIN, STORE_ADMIN, STORE_STAFF, SALE, CUSTOMER_GUEST
- **OTP**: Email OTP (6 ‡∏´‡∏•‡∏±‡∏Å) + rate limiting
- **SSO**: Google Sign-In (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)

### Data Security
- ‡πÅ‡∏¢‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° role ‡πÅ‡∏•‡∏∞ store_id
- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß
- reCAPTCHA ‡∏ó‡∏µ‡πà‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- Row Level Security (RLS) ‡πÅ‡∏ö‡∏ö phase-in
- **üÜï Product Permission Check**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏∏‡∏Å request

## üí∞ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô

### Phase 1 (Manual)
- ‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ/‡πÇ‡∏≠‡∏ô/COD
- Admin ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

### Phase 2 (Automated)  
- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° interface ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Stripe/Omise/2C2P/PromptPay
- ‡∏£‡∏∞‡∏ö‡∏ö Subscription ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## üìà ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ (‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° Project)

---

# üîß BACKEND DEVELOPMENT PLAN

### Phase 1: Backend Core Setup
1. **‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå NestJS** + Prisma + PostgreSQL
2. **Database Schema** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö core tables
3. **Authentication Module** (JWT + OTP)
4. **Authorization Guards** ‡πÅ‡∏•‡∏∞ RBAC system
5. **Basic CRUD APIs** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö stores, brands, products

### Phase 2: Business Logic APIs
6. **Store-Brand Entitlements** API
7. **Stock Management** APIs
8. **Order Processing** APIs v·ªõi reservation system
9. **üÜï Store Product Permissions** APIs
10. **üÜï Product Approval Queue** APIs

### Phase 3: Advanced Backend Features  
11. **Background Jobs** (cron scheduler)
12. **Notification System** (email templates)
13. **Reporting APIs** ‡πÅ‡∏•‡∏∞ analytics
14. **File Upload** handling
15. **API Documentation** (Swagger)

### Phase 4: Backend Testing & Deployment
16. **Unit Tests** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö core modules
17. **Integration Tests** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö APIs
18. **Docker Setup** ‡πÅ‡∏•‡∏∞ deployment preparation
19. **Database Migrations** ‡πÅ‡∏•‡∏∞ seeding
20. **Performance Optimization**

---

# üé® FRONTEND DEVELOPMENT PLAN

### Phase 1: Frontend Core Setup
1. **‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Next.js** (App Router) + TypeScript
2. **Authentication System** (JWT handling)
3. **Base Components** ‡πÅ‡∏•‡∏∞ UI library setup
4. **Routing Structure** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö admin/store/shop
5. **API Integration** setup (HTTP client)

### Phase 2: Admin Dashboard
6. **Admin Login** ‡πÅ‡∏•‡∏∞ dashboard layout
7. **Brand Management** pages (CRUD)
8. **Store Management** pages (CRUD)  
9. **Product Catalog** management
10. **üÜï Store Product Permissions** management UI
11. **üÜï Product Approval Queue** interface

### Phase 3: Store Dashboard
12. **Store Login** ‡πÅ‡∏•‡∏∞ dashboard layout
13. **Store Profile** management
14. **Product Import** interface
15. **üÜï Store Product Creation** forms
16. **Stock Management** interface
17. **Order Management** pages
18. **Sales Reports** dashboard

### Phase 4: Public Storefront
19. **Storefront Layout** (responsive design)
20. **Product Catalog** display (SSR/ISR)
21. **Shopping Cart** functionality
22. **Guest Checkout** process
23. **Order Confirmation** ‡πÅ‡∏•‡∏∞ tracking

### Phase 5: Frontend Polish & Testing
24. **Mobile Optimization**
25. **Performance Optimization** (loading, caching)
26. **Error Handling** ‡πÅ‡∏•‡∏∞ user feedback
27. **E2E Testing** (Cypress ‡∏´‡∏£‡∏∑‡∏≠ Playwright)
28. **Accessibility** improvements

## üöÄ ‡∏Å‡∏≤‡∏£ Hosting ‡πÅ‡∏•‡∏∞ Deployment

---

# üîß BACKEND HOSTING

### Backend Infrastructure
- **Server**: 1 VPS (2-4 vCPU / 4-8GB RAM)
- **Container**: Docker + Docker Compose
- **Reverse Proxy**: nginx (SSL termination, rate limiting)
- **Database**: PostgreSQL (same server ‡∏´‡∏£‡∏∑‡∏≠ managed service)
- **File Storage**: S3-compatible service ‡∏´‡∏£‡∏∑‡∏≠ local + CDN
- **Domain**: `api.yourcompany.com`

### Backend Environment Setup
```yaml
# docker-compose.yml (example)
services:
  api:
    build: ./backend
    ports: ["3001:3001"]
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - JWT_SECRET=${JWT_SECRET}
    
  db:
    image: postgres:15
    environment:
      - POSTGRES_DB=interlink
      - POSTGRES_USER=${DB_USER}
      - POSTGRES_PASSWORD=${DB_PASS}
    volumes:
      - postgres_data:/var/lib/postgresql/data
```

### Backend Monitoring
- **Logs**: Structured JSON logs with Winston
- **Health Checks**: `/health` endpoint
- **Error Tracking**: Sentry (free plan)
- **Database Backup**: pg_dump ‡∏£‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏ô ‚Üí object storage
- **API Monitoring**: Uptime monitoring service

---

# üé® FRONTEND HOSTING

### Frontend Infrastructure
- **Hosting**: Vercel ‡∏´‡∏£‡∏∑‡∏≠ Netlify (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Next.js)
- **Alternative**: Static hosting + CDN (Cloudflare Pages)
- **Domain**: `app.yourcompany.com` (admin/store), `shop.yourcompany.com` (storefront)
- **SSL**: Automatic (provided by hosting service)

### Frontend Environment Setup
```bash
# Environment Variables
NEXT_PUBLIC_API_URL=https://api.yourcompany.com
NEXT_PUBLIC_APP_URL=https://app.yourcompany.com  
NEXTAUTH_SECRET=${NEXTAUTH_SECRET}
NEXTAUTH_URL=${NEXTAUTH_URL}
```

### Frontend Deployment Strategy
- **Admin/Store Dashboard**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ deploy ‡πÉ‡∏ô subdirectory ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
- **Storefront**: ‡∏≠‡∏≤‡∏à‡πÅ‡∏¢‡∏Å deploy ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏•‡∏∞ project ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö performance
- **Build Optimization**: Static export ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö storefront pages
- **CDN**: Auto-managed ‡πÇ‡∏î‡∏¢ hosting provider

## üìä ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö **100-200 RPS** ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á peak
- ‡πÉ‡∏ä‡πâ atomic SQL + ISR + lightweight queues
- Scale plan: ‡πÄ‡∏û‡∏¥‡πà‡∏° RAM ‚Üí ‡πÅ‡∏¢‡∏Å DB ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Redis/BullMQ

## üîÆ ‡πÅ‡∏ú‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

1. **Multi-brand expansion**: ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå
2. **Sale/Agent system**: ‡∏£‡∏∞‡∏ö‡∏ö sale ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
3. **Advanced payments**: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° payment gateways
4. **Mobile app**: ‡∏û‡∏±‡∏í‡∏ô‡∏≤ mobile application
5. **Analytics & BI**: ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞ business intelligence
6. **üÜï AI Product Suggestion**: ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏° trend
7. **üÜï Advanced Product Templates**: ‡πÄ‡∏ó‡∏°‡πÄ‡∏û‡∏•‡∏ï‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á

---

## üõ†Ô∏è Tech Stack Summary

---

# üîß BACKEND TECH STACK

| Component | Technology | Purpose |
|-----------|------------|---------|
| **Framework** | NestJS | API server framework |
| **Language** | TypeScript | Type-safe development |
| **Database** | PostgreSQL | Primary database |
| **ORM** | Prisma | Database access & migrations |
| **Authentication** | JWT + OTP | User authentication |
| **Validation** | class-validator | Request validation |
| **Documentation** | Swagger/OpenAPI | API documentation |
| **File Storage** | S3-compatible | Image/file storage |
| **Background Jobs** | node-cron | Scheduled tasks |
| **Email** | Nodemailer | Email notifications |
| **Testing** | Jest | Unit & integration tests |
| **Logging** | Winston | Structured logging |
| **Container** | Docker | Containerization |

---

# üé® FRONTEND TECH STACK

| Component | Technology | Purpose |
|-----------|------------|---------|
| **Framework** | Next.js (App Router) | React-based web framework |
| **Language** | TypeScript | Type-safe development |
| **Styling** | Tailwind CSS | Utility-first CSS |
| **UI Components** | shadcn/ui ‡∏´‡∏£‡∏∑‡∏≠ Ant Design | Pre-built components |
| **State Management** | Zustand ‡∏´‡∏£‡∏∑‡∏≠ Redux Toolkit | Client state management |
| **Form Handling** | React Hook Form + Zod | Form validation |
| **HTTP Client** | Axios ‡∏´‡∏£‡∏∑‡∏≠ TanStack Query | API communication |
| **Authentication** | NextAuth.js | Session management |
| **Charts** | Recharts ‡∏´‡∏£‡∏∑‡∏≠ Chart.js | Data visualization |
| **Testing** | Jest + Cypress | Unit & E2E testing |
| **Build Tools** | Next.js built-in | Bundling & optimization |

---

## üÜï API Endpoints (Store Product Creation)

### Admin APIs
```
GET    /admin/stores/{storeId}/product-permissions     # ‡∏î‡∏π‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
POST   /admin/stores/{storeId}/product-permissions     # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
PUT    /admin/stores/{storeId}/product-permissions     # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
DELETE /admin/stores/{storeId}/product-permissions     # ‡∏•‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

GET    /admin/product-approvals                        # ‡∏î‡∏π‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
GET    /admin/product-approvals/{id}                    # ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
PUT    /admin/product-approvals/{id}/approve            # ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
PUT    /admin/product-approvals/{id}/reject             # ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
PUT    /admin/product-approvals/{id}/request-revision   # ‡∏Ç‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
```

### Store APIs
```
GET    /store/product-permissions                      # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
GET    /store/products/create-eligibility              # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
POST   /store/products                                 # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
GET    /store/product-submissions                      # ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
GET    /store/product-submissions/{id}                 # ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
PUT    /store/product-submissions/{id}                 # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡πÉ‡∏´‡πâ revision
```

---

*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå*