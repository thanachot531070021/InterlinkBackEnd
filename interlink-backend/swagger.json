{"openapi":"3.0.0","paths":{"/api":{"get":{"operationId":"AppController_getHello","summary":"Get API status","parameters":[],"responses":{"200":{"description":"API is running"}},"tags":["health"]}},"/api/health":{"get":{"operationId":"AppController_getHealth","summary":"Health check endpoint","parameters":[],"responses":{"200":{"description":"Health check successful"}},"tags":["health"]}},"/api/auth/login":{"post":{"operationId":"AuthController_login","summary":"User login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"},"user":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"email":{"type":"string","example":"user@example.com"},"name":{"type":"string","example":"John Doe"},"role":{"type":"string","example":"STORE_ADMIN"},"storeId":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001","nullable":true},"store":{"type":"object","properties":{"id":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001"},"name":{"type":"string","example":"My Store"},"slug":{"type":"string","example":"my-store"}},"nullable":true}}}}}}}},"401":{"description":"Invalid credentials"}},"tags":["auth"]}},"/api/auth/profile":{"get":{"operationId":"AuthController_getProfile","summary":"Get current user profile","parameters":[],"responses":{"200":{"description":"User profile retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"email":{"type":"string","example":"user@example.com"},"name":{"type":"string","example":"John Doe"},"role":{"type":"string","example":"STORE_ADMIN"},"storeId":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001","nullable":true},"isActive":{"type":"boolean","example":true},"hasEnabledTwoFactor":{"type":"boolean","example":false},"createdAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"}}}}}}}},"401":{"description":"Unauthorized"}},"tags":["auth"],"security":[{"bearer":[]}]}},"/api/auth/refresh":{"post":{"operationId":"AuthController_refresh","summary":"Refresh access token","parameters":[],"responses":{"200":{"description":"Token refreshed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.NEW_TOKEN_HERE"}}}}}},"401":{"description":"Unauthorized"}},"tags":["auth"],"security":[{"bearer":[]}]}},"/api/auth/2fa/status":{"get":{"operationId":"TwoFactorController_getTwoFactorStatus","summary":"Get 2FA status for current user","parameters":[],"responses":{"200":{"description":"2FA status retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"enabled":{"type":"boolean","example":true},"backupCodesRemaining":{"type":"number","example":8},"lastUsedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z","nullable":true}}}}}}},"tags":["two-factor-auth"],"security":[{"bearer":[]}]}},"/api/auth/2fa/generate":{"post":{"operationId":"TwoFactorController_generateSecret","summary":"Generate 2FA secret and QR code","parameters":[],"responses":{"200":{"description":"2FA secret generated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"secret":{"type":"string","example":"JBSWY3DPEHPK3PXP"},"qrCodeUrl":{"type":"string","example":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."},"manualEntryKey":{"type":"string","example":"JBSW Y3DP EHPK 3PXP"},"backupCodes":{"type":"array","items":{"type":"string"},"example":["12345678","87654321","11223344","44332211","55667788","88776655","99887766","66778899"]}}}}}}}}},"tags":["two-factor-auth"],"security":[{"bearer":[]}]}},"/api/auth/2fa/enable":{"post":{"operationId":"TwoFactorController_enableTwoFactor","summary":"Enable 2FA with verification token","parameters":[],"responses":{"200":{"description":"2FA enabled successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Two-factor authentication enabled successfully"}}}}}}},"tags":["two-factor-auth"],"security":[{"bearer":[]}]}},"/api/auth/2fa/disable":{"delete":{"operationId":"TwoFactorController_disableTwoFactor","summary":"Disable 2FA with verification","parameters":[],"responses":{"200":{"description":"2FA disabled successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Two-factor authentication disabled successfully"}}}}}}},"tags":["two-factor-auth"],"security":[{"bearer":[]}]}},"/api/auth/2fa/verify":{"post":{"operationId":"TwoFactorController_verifyTwoFactor","summary":"Verify 2FA token or backup code","parameters":[],"responses":{"200":{"description":"2FA verification result","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"valid":{"type":"boolean","example":true}}}}}}}}},"tags":["two-factor-auth"],"security":[{"bearer":[]}]}},"/api/auth/2fa/backup-codes/regenerate":{"post":{"operationId":"TwoFactorController_regenerateBackupCodes","summary":"Regenerate backup codes","parameters":[],"responses":{"200":{"description":"Backup codes regenerated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"backupCodes":{"type":"array","items":{"type":"string"},"example":["12345678","87654321","11223344","44332211","55667788","88776655","99887766","66778899"]}}},"message":{"type":"string","example":"Backup codes regenerated successfully. Please save these codes in a safe place."}}}}}}},"tags":["two-factor-auth"],"security":[{"bearer":[]}]}},"/api/auth/social/google":{"post":{"operationId":"SocialLoginController_googleLogin","summary":"Login with Google","parameters":[],"responses":{"200":{"description":"Google login successful","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"email":{"type":"string","example":"user@gmail.com"},"name":{"type":"string","example":"John Doe"},"role":{"type":"string","example":"CUSTOMER_GUEST"},"profile":{"type":"object","properties":{"avatar":{"type":"string","example":"https://lh3.googleusercontent.com/a/default-user=s96-c"},"provider":{"type":"string","example":"google"}}}}},"tokens":{"type":"object","properties":{"accessToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}},"isNewUser":{"type":"boolean","example":false}}},"message":{"type":"string","example":"Login successful"}}}}}}},"tags":["social-auth"]}},"/api/auth/social/facebook":{"post":{"operationId":"SocialLoginController_facebookLogin","summary":"Login with Facebook","parameters":[],"responses":{"200":{"description":"Facebook login successful","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"email":{"type":"string","example":"user@facebook.com"},"name":{"type":"string","example":"Jane Smith"},"role":{"type":"string","example":"CUSTOMER_GUEST"},"profile":{"type":"object","properties":{"avatar":{"type":"string","example":"https://graph.facebook.com/v12.0/me/picture"},"provider":{"type":"string","example":"facebook"}}}}},"tokens":{"type":"object","properties":{"accessToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}},"isNewUser":{"type":"boolean","example":true}}},"message":{"type":"string","example":"Account created successfully"}}}}}}},"tags":["social-auth"]}},"/api/auth/social/accounts":{"get":{"operationId":"SocialLoginController_getSocialAccounts","summary":"Get linked social accounts","parameters":[],"responses":{"200":{"description":"Social accounts retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"social-account-uuid"},"provider":{"type":"string","example":"google"},"providerId":{"type":"string","example":"1234567890"},"email":{"type":"string","example":"user@gmail.com"},"name":{"type":"string","example":"John Doe"},"avatar":{"type":"string","example":"https://lh3.googleusercontent.com/a/default-user=s96-c"},"linkedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"}}}}}}}}}},"tags":["social-auth"],"security":[{"bearer":[]}]}},"/api/auth/social/link/{provider}":{"post":{"operationId":"SocialLoginController_linkSocialAccount","summary":"Link social account to current user","parameters":[{"name":"provider","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Social account linked successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"google account linked successfully"}}}}}}},"tags":["social-auth"],"security":[{"bearer":[]}]}},"/api/auth/social/unlink/{provider}":{"delete":{"operationId":"SocialLoginController_unlinkSocialAccount","summary":"Unlink social account","parameters":[{"name":"provider","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Social account unlinked successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"google account unlinked successfully"}}}}}}},"tags":["social-auth"],"security":[{"bearer":[]}]}},"/api/users/profile":{"get":{"operationId":"UsersController_getProfile","summary":"Get current user profile","parameters":[],"responses":{"200":{"description":"User profile retrieved successfully"}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/users":{"get":{"operationId":"UsersController_getAllUsers","summary":"Get all users (Admin only)","parameters":[],"responses":{"200":{"description":"Users retrieved successfully"}},"tags":["users"],"security":[{"bearer":[]}]},"post":{"operationId":"UsersController_createUser","summary":"Create new user (Admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"email":{"type":"string","example":"newuser@example.com"},"name":{"type":"string","example":"John Doe"},"role":{"type":"string","example":"STORE_ADMIN"},"storeId":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001","nullable":true},"isActive":{"type":"boolean","example":true},"hasEnabledTwoFactor":{"type":"boolean","example":false},"createdAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"store":{"type":"object","nullable":true,"properties":{"id":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001"},"name":{"type":"string","example":"My Store"},"slug":{"type":"string","example":"my-store"}}}}}}}},"400":{"description":"Validation error"},"403":{"description":"Insufficient permissions"},"409":{"description":"Email already exists"}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/users/search":{"get":{"operationId":"UsersController_searchUsers","summary":"Search users (Admin only)","parameters":[{"name":"query","required":true,"in":"query","schema":{"type":"string"}},{"name":"role","required":true,"in":"query","schema":{"type":"string"}},{"name":"storeId","required":true,"in":"query","schema":{"type":"string"}},{"name":"isActive","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Users search completed"}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/users/stats":{"get":{"operationId":"UsersController_getUserStats","summary":"Get user statistics (Admin only)","parameters":[],"responses":{"200":{"description":"User statistics retrieved successfully"}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/users/store/{storeId}":{"get":{"operationId":"UsersController_getUsersByStore","summary":"Get users by store (Store Admin only)","parameters":[{"name":"storeId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Store users retrieved successfully"}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/users/{id}":{"get":{"operationId":"UsersController_getUserById","summary":"Get user by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"User retrieved successfully"}},"tags":["users"],"security":[{"bearer":[]}]},"put":{"operationId":"UsersController_updateUser","summary":"Update user (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"email":{"type":"string","example":"user@example.com"},"name":{"type":"string","example":"John Smith Updated"},"role":{"type":"string","example":"STORE_STAFF"},"storeId":{"type":"string","example":"789e0123-e89b-12d3-a456-426614174002","nullable":true},"isActive":{"type":"boolean","example":true},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-25T16:45:00.000Z"}}}}}},"400":{"description":"Validation error"},"403":{"description":"Insufficient permissions"},"404":{"description":"User not found"}},"tags":["users"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_deleteUser","summary":"Delete user (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"User deleted successfully"}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/brands":{"post":{"operationId":"BrandsController_create","summary":"Create a new brand (Admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBrandDto"}}}},"responses":{"201":{"description":"Brand created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"brand-uuid-123"},"name":{"type":"string","example":"Tech Gadgets"},"slug":{"type":"string","example":"tech-gadgets"},"description":{"type":"string","example":"Latest technology and gadgets for modern life"},"logo":{"type":"string","example":"https://example.com/logo.png","nullable":true},"isActive":{"type":"boolean","example":true},"createdAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"}}}}}},"400":{"description":"Invalid input data"},"403":{"description":"Insufficient permissions"},"409":{"description":"Brand slug already exists"}},"tags":["brands"],"security":[{"bearer":[]}]},"get":{"operationId":"BrandsController_findAll","summary":"Get all brands","parameters":[],"responses":{"200":{"description":"List of all brands"}},"tags":["brands"],"security":[{"bearer":[]}]}},"/api/brands/active":{"get":{"operationId":"BrandsController_findActiveOnly","summary":"Get active brands only","parameters":[],"responses":{"200":{"description":"List of active brands"}},"tags":["brands"],"security":[{"bearer":[]}]}},"/api/brands/{id}":{"get":{"operationId":"BrandsController_findOne","summary":"Get brand by ID with details","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Brand details with relationships"},"404":{"description":"Brand not found"}},"tags":["brands"],"security":[{"bearer":[]}]},"patch":{"operationId":"BrandsController_update","summary":"Update brand (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBrandDto"}}}},"responses":{"200":{"description":"Brand updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"brand-uuid-123"},"name":{"type":"string","example":"Tech Gadgets Updated"},"slug":{"type":"string","example":"tech-gadgets"},"description":{"type":"string","example":"Updated: Latest technology and gadgets for modern life"},"logo":{"type":"string","example":"https://example.com/updated-logo.png"},"isActive":{"type":"boolean","example":true},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-25T16:45:00.000Z"}}}}}},"403":{"description":"Insufficient permissions"},"404":{"description":"Brand not found"}},"tags":["brands"],"security":[{"bearer":[]}]},"delete":{"operationId":"BrandsController_remove","summary":"Delete brand (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Brand deleted successfully"},"403":{"description":"Insufficient permissions"},"404":{"description":"Brand not found"}},"tags":["brands"],"security":[{"bearer":[]}]}},"/api/brands/{id}/stats":{"get":{"operationId":"BrandsController_getBrandStats","summary":"Get brand statistics (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Brand statistics including product and store counts"}},"tags":["brands"],"security":[{"bearer":[]}]}},"/api/brands/slug/{slug}":{"get":{"operationId":"BrandsController_findBySlug","summary":"Get brand by slug","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Brand found by slug"},"404":{"description":"Brand not found"}},"tags":["brands"],"security":[{"bearer":[]}]}},"/api/stores":{"post":{"operationId":"StoresController_create","summary":"Create a new store (Admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStoreDto"}}}},"responses":{"201":{"description":"Store created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001"},"name":{"type":"string","example":"My Awesome Store"},"slug":{"type":"string","example":"my-awesome-store"},"description":{"type":"string","example":"A premium retail store offering quality products"},"email":{"type":"string","example":"store@example.com"},"phone":{"type":"string","example":"+66-123-456-789"},"address":{"type":"object","example":{"street":"123 Main Street","city":"Bangkok","province":"Bangkok","postalCode":"10110","country":"Thailand"}},"logo":{"type":"string","example":"https://example.com/logo.png","nullable":true},"status":{"type":"string","example":"ACTIVE"},"subscriptionStatus":{"type":"string","example":"TRIAL"},"isActive":{"type":"boolean","example":true},"createdAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"}}}}}},"400":{"description":"Invalid input data"},"403":{"description":"Insufficient permissions"},"409":{"description":"Store slug already exists"}},"tags":["stores"],"security":[{"bearer":[]}]},"get":{"operationId":"StoresController_findAll","summary":"Get all stores (Admin only)","parameters":[],"responses":{"200":{"description":"List of all stores"}},"tags":["stores"],"security":[{"bearer":[]}]}},"/api/stores/active":{"get":{"operationId":"StoresController_findActiveOnly","summary":"Get active stores only","parameters":[],"responses":{"200":{"description":"List of active stores"}},"tags":["stores"],"security":[{"bearer":[]}]}},"/api/stores/{id}":{"get":{"operationId":"StoresController_findOne","summary":"Get store by ID with details","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Store details with relationships"},"404":{"description":"Store not found"}},"tags":["stores"],"security":[{"bearer":[]}]},"patch":{"operationId":"StoresController_update","summary":"Update store (Admin/Store Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStoreDto"}}}},"responses":{"200":{"description":"Store updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001"},"name":{"type":"string","example":"My Updated Store"},"slug":{"type":"string","example":"my-updated-store"},"description":{"type":"string","example":"Updated store description"},"email":{"type":"string","example":"updated@example.com"},"phone":{"type":"string","example":"+66-999-888-777"},"logo":{"type":"string","example":"https://example.com/new-logo.png"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-25T16:45:00.000Z"}}}}}},"403":{"description":"Insufficient permissions"},"404":{"description":"Store not found"}},"tags":["stores"],"security":[{"bearer":[]}]},"delete":{"operationId":"StoresController_remove","summary":"Delete store (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Store deleted successfully"},"403":{"description":"Insufficient permissions"},"404":{"description":"Store not found"}},"tags":["stores"],"security":[{"bearer":[]}]}},"/api/stores/{id}/stats":{"get":{"operationId":"StoresController_getStoreStats","summary":"Get store statistics (Admin/Store Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Store statistics including user, brand, and order counts"}},"tags":["stores"],"security":[{"bearer":[]}]}},"/api/stores/{id}/brands":{"get":{"operationId":"StoresController_getStoreBrands","summary":"Get store brand entitlements","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of brands this store has access to"}},"tags":["stores"],"security":[{"bearer":[]}]}},"/api/stores/slug/{slug}":{"get":{"operationId":"StoresController_findBySlug","summary":"Get store by slug","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Store found by slug"},"404":{"description":"Store not found"}},"tags":["stores"],"security":[{"bearer":[]}]}},"/api/products":{"post":{"operationId":"ProductsController_create","summary":"Create a new product (Admin/Store Admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"Product created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"product-uuid-789"},"name":{"type":"string","example":"iPhone 15 Pro"},"slug":{"type":"string","example":"iphone-15-pro"},"sku":{"type":"string","example":"APL-IPH15P-256-BLK"},"description":{"type":"string","example":"Latest iPhone with advanced camera system and A17 Pro chip"},"brandId":{"type":"string","example":"apple-brand-uuid"},"createdByStoreId":{"type":"string","example":"store-uuid-456","nullable":true},"category":{"type":"string","example":"Electronics"},"price":{"type":"number","example":39900},"images":{"type":"array","items":{"type":"string"},"example":["https://example.com/iphone15pro-1.jpg","https://example.com/iphone15pro-2.jpg"]},"attributes":{"type":"object","example":{"color":"Black","storage":"256GB","connectivity":"5G"}},"status":{"type":"string","example":"ACTIVE"},"isActive":{"type":"boolean","example":true},"createdAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"},"brand":{"type":"object","properties":{"id":{"type":"string","example":"apple-brand-uuid"},"name":{"type":"string","example":"Apple"},"slug":{"type":"string","example":"apple"}}}}}}}},"400":{"description":"Invalid input data"},"403":{"description":"Insufficient permissions"},"409":{"description":"Product SKU already exists"}},"tags":["products"],"security":[{"bearer":[]}]},"get":{"operationId":"ProductsController_findAll","summary":"Get all products","parameters":[],"responses":{"200":{"description":"List of all products"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/search":{"get":{"operationId":"ProductsController_searchProducts","summary":"Search products with filters","parameters":[{"name":"offset","required":false,"in":"query","description":"Results offset","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of results","schema":{"type":"number"}},{"name":"maxPrice","required":false,"in":"query","description":"Maximum price","schema":{"type":"number"}},{"name":"minPrice","required":false,"in":"query","description":"Minimum price","schema":{"type":"number"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{}},{"name":"category","required":false,"in":"query","description":"Filter by category","schema":{}},{"name":"brandId","required":false,"in":"query","description":"Filter by brand ID","schema":{}},{"name":"search","required":false,"in":"query","description":"Search text","schema":{}}],"responses":{"200":{"description":"Paginated search results"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/active":{"get":{"operationId":"ProductsController_findActiveOnly","summary":"Get active products only","parameters":[],"responses":{"200":{"description":"List of active products"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/brand/{brandId}":{"get":{"operationId":"ProductsController_findByBrand","summary":"Get products by brand ID","parameters":[{"name":"brandId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of products for the specified brand"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/store/{storeId}":{"get":{"operationId":"ProductsController_findByStore","summary":"Get products created by specific store","parameters":[{"name":"storeId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of store-created products"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/{id}":{"get":{"operationId":"ProductsController_findOne","summary":"Get product by ID with details","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product details with relationships"},"404":{"description":"Product not found"}},"tags":["products"],"security":[{"bearer":[]}]},"patch":{"operationId":"ProductsController_update","summary":"Update product (Admin/Store Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"Product updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"product-uuid-789"},"name":{"type":"string","example":"iPhone 15 Pro Updated"},"slug":{"type":"string","example":"iphone-15-pro"},"sku":{"type":"string","example":"APL-IPH15P-256-BLK"},"description":{"type":"string","example":"Updated: Latest iPhone with advanced camera system"},"price":{"type":"number","example":41900},"category":{"type":"string","example":"Electronics"},"images":{"type":"array","items":{"type":"string"},"example":["https://example.com/new-image1.jpg"]},"status":{"type":"string","example":"ACTIVE"},"updatedAt":{"type":"string","format":"date-time","example":"2024-01-25T16:45:00.000Z"},"brand":{"type":"object","properties":{"name":{"type":"string","example":"Apple"},"slug":{"type":"string","example":"apple"}}}}}}}},"403":{"description":"Insufficient permissions"},"404":{"description":"Product not found"}},"tags":["products"],"security":[{"bearer":[]}]},"delete":{"operationId":"ProductsController_remove","summary":"Delete product (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product deleted successfully"},"403":{"description":"Insufficient permissions"},"404":{"description":"Product not found"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/{id}/stats":{"get":{"operationId":"ProductsController_getProductStats","summary":"Get product statistics (Admin/Store Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product statistics including variants, stock, and sales data"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/slug/{slug}":{"get":{"operationId":"ProductsController_findBySlug","summary":"Get product by slug","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product found by slug"},"404":{"description":"Product not found"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/products/sku/{sku}":{"get":{"operationId":"ProductsController_findBySku","summary":"Get product by SKU","parameters":[{"name":"sku","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product found by SKU"},"404":{"description":"Product not found"}},"tags":["products"],"security":[{"bearer":[]}]}},"/api/entitlements":{"post":{"operationId":"EntitlementsController_create","summary":"Create a new store-brand entitlement (Admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStoreBrandEntitlementDto"}}}},"responses":{"201":{"description":"Entitlement created successfully"},"400":{"description":"Invalid input data"},"403":{"description":"Insufficient permissions"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]},"get":{"operationId":"EntitlementsController_findAll","summary":"Get all store-brand entitlements (Admin only)","parameters":[],"responses":{"200":{"description":"List of all store-brand entitlements"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/active":{"get":{"operationId":"EntitlementsController_findActiveEntitlements","summary":"Get all active store-brand entitlements","parameters":[],"responses":{"200":{"description":"List of active store-brand entitlements"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/stats":{"get":{"operationId":"EntitlementsController_getStats","summary":"Get entitlement statistics (Admin only)","parameters":[{"name":"storeId","required":false,"in":"query","description":"Filter by store ID","schema":{"type":"string"}},{"name":"brandId","required":false,"in":"query","description":"Filter by brand ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Entitlement statistics"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/store/{storeId}":{"get":{"operationId":"EntitlementsController_findByStore","summary":"Get entitlements for a specific store","parameters":[{"name":"storeId","required":true,"in":"path","description":"Store UUID","schema":{"example":"456e7890-e89b-12d3-a456-426614174001","type":"string"}}],"responses":{"200":{"description":"List of entitlements for the store"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/store/{storeId}/active":{"get":{"operationId":"EntitlementsController_findActiveByStore","summary":"Get active entitlements for a specific store","parameters":[{"name":"storeId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of active entitlements for the store"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/brand/{brandId}":{"get":{"operationId":"EntitlementsController_findByBrand","summary":"Get entitlements for a specific brand (Admin only)","parameters":[{"name":"brandId","required":true,"in":"path","description":"Brand UUID","schema":{"example":"brand-uuid-789","type":"string"}}],"responses":{"200":{"description":"List of entitlements for the brand"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/brand/{brandId}/active":{"get":{"operationId":"EntitlementsController_findActiveByBrand","summary":"Get active entitlements for a specific brand (Admin only)","parameters":[{"name":"brandId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of active entitlements for the brand"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/check/{storeId}/{brandId}":{"get":{"operationId":"EntitlementsController_checkEntitlement","summary":"Check if store has access to brand","parameters":[{"name":"storeId","required":true,"in":"path","description":"Store UUID","schema":{"example":"456e7890-e89b-12d3-a456-426614174001","type":"string"}},{"name":"brandId","required":true,"in":"path","description":"Brand UUID","schema":{"example":"brand-uuid-789","type":"string"}}],"responses":{"200":{"description":"Boolean indicating if store has brand access","content":{"application/json":{"schema":{"type":"object","properties":{"hasAccess":{"type":"boolean","example":true}}}}}}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/{id}":{"get":{"operationId":"EntitlementsController_findOne","summary":"Get entitlement by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Entitlement details"},"404":{"description":"Entitlement not found"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]},"patch":{"operationId":"EntitlementsController_update","summary":"Update entitlement (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStoreBrandEntitlementDto"}}}},"responses":{"200":{"description":"Entitlement updated successfully"},"403":{"description":"Insufficient permissions"},"404":{"description":"Entitlement not found"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]},"delete":{"operationId":"EntitlementsController_remove","summary":"Delete entitlement (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Entitlement deleted successfully"},"403":{"description":"Insufficient permissions"},"404":{"description":"Entitlement not found"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/entitlements/{id}/revoke":{"patch":{"operationId":"EntitlementsController_revoke","summary":"Revoke entitlement (set expiry to now) (Admin only)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Entitlement revoked successfully"},"403":{"description":"Insufficient permissions"},"404":{"description":"Entitlement not found"}},"tags":["store-brand-entitlements"],"security":[{"bearer":[]}]}},"/api/api/stock/store/{storeId}":{"get":{"operationId":"StockController_getStoreStock","summary":"Get all stock for a store","description":"Retrieve all stock records for a specific store with product details","parameters":[{"name":"storeId","required":true,"in":"path","description":"Store UUID","schema":{"example":"store-uuid-123","type":"string"}}],"responses":{"200":{"description":"Store stock retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"stock-uuid-123"},"availableQty":{"type":"number","example":100},"reservedQty":{"type":"number","example":5},"soldQty":{"type":"number","example":20},"priceCentral":{"type":"number","example":1500},"priceStore":{"type":"number","example":1650},"product":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","example":"iPhone 15 Pro"},"sku":{"type":"string","example":"APL-IPH15P-128"},"brand":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","example":"Apple"},"slug":{"type":"string","example":"apple"}}}}}}}}}}}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/store/{storeId}/product/{productId}":{"get":{"operationId":"StockController_getProductStock","summary":"Get stock for a specific product","description":"Retrieve stock record for a specific product/variant in a store","parameters":[{"name":"storeId","required":true,"in":"path","description":"Store UUID","schema":{"type":"string"}},{"name":"productId","required":true,"in":"path","description":"Product UUID","schema":{"type":"string"}},{"name":"variantId","required":false,"in":"query","description":"Product variant UUID (optional)","schema":{"type":"string"}}],"responses":{"200":{"description":"Product stock retrieved successfully"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock":{"post":{"operationId":"StockController_createOrUpdateStock","summary":"Create or update stock","description":"Create new stock record or update existing one","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStockDto"}}}},"responses":{"201":{"description":"Stock created/updated successfully"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/{stockId}":{"put":{"operationId":"StockController_updateStock","summary":"Update existing stock","description":"Update an existing stock record","parameters":[{"name":"stockId","required":true,"in":"path","description":"Stock UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStockDto"}}}},"responses":{"200":{"description":"Stock updated successfully"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/reserve":{"post":{"operationId":"StockController_reserveStock","summary":"Reserve stock for order","description":"Atomically reserve stock for an order with TTL expiration","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveStockDto"}}}},"responses":{"201":{"description":"Stock reserved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"reservation-uuid-123"},"quantity":{"type":"number","example":5},"expiresAt":{"type":"string","format":"date-time"},"status":{"type":"string","example":"ACTIVE"}}}}}},"409":{"description":"Insufficient stock available"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/release-reservation":{"post":{"operationId":"StockController_releaseReservation","summary":"Release stock reservation","description":"Release a stock reservation (on order cancellation)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReleaseReservationDto"}}}},"responses":{"200":{"description":"Reservation released successfully"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/confirm-reservation/{reservationId}":{"post":{"operationId":"StockController_confirmReservation","summary":"Confirm stock reservation","description":"Convert reservation to sale (on order confirmation)","parameters":[{"name":"reservationId","required":true,"in":"path","description":"Reservation UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Reservation confirmed and stock updated"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/adjust":{"post":{"operationId":"StockController_adjustStock","summary":"Manual stock adjustment","description":"Manually adjust stock for corrections, damage, etc.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockAdjustmentDto"}}}},"responses":{"200":{"description":"Stock adjusted successfully"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/reservations/expired":{"get":{"operationId":"StockController_getExpiredReservations","summary":"Get expired reservations","description":"Get all expired reservations for cleanup","parameters":[],"responses":{"200":{"description":"Expired reservations retrieved"}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/cleanup-expired":{"post":{"operationId":"StockController_cleanupExpiredReservations","summary":"Cleanup expired reservations","description":"Automatically release all expired reservations","parameters":[],"responses":{"200":{"description":"Expired reservations cleaned up","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"count":{"type":"number"}}}}}}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/stock/store/{storeId}/stats":{"get":{"operationId":"StockController_getStoreStockStats","summary":"Get store stock statistics","description":"Get comprehensive stock statistics for a store","parameters":[{"name":"storeId","required":true,"in":"path","description":"Store UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Store stock statistics retrieved","content":{"application/json":{"schema":{"type":"object","properties":{"totalProducts":{"type":"number","example":150},"lowStockItems":{"type":"number","example":12},"outOfStockItems":{"type":"number","example":3},"inStockItems":{"type":"number","example":147},"totalUnits":{"type":"number","example":2500}}}}}}},"tags":["stock"],"security":[{"bearer":[]}]}},"/api/api/orders":{"post":{"operationId":"OrdersController_createOrder","summary":"Create new order","description":"Create a new order with automatic stock reservation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":"Order created successfully with stock reserved","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"order-uuid-123"},"status":{"type":"string","example":"PENDING"},"totalAmount":{"type":"number","example":3000},"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"},"unitPrice":{"type":"number"},"totalPrice":{"type":"number"},"product":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","example":"iPhone 15 Pro"},"sku":{"type":"string","example":"APL-IPH15P-128"}}}}}},"reservations":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"},"expiresAt":{"type":"string","format":"date-time"},"status":{"type":"string","example":"ACTIVE"}}}}}}}}},"409":{"description":"Insufficient stock for one or more items"}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/search":{"get":{"operationId":"OrdersController_searchOrders","summary":"Search orders","description":"Search orders with various filters and pagination","parameters":[{"name":"storeId","required":false,"in":"query","description":"Store UUID to filter by","schema":{"example":"store-uuid-123","type":"string"}},{"name":"customerId","required":false,"in":"query","description":"Customer UUID to filter by","schema":{"example":"customer-uuid-123","type":"string"}},{"name":"status","required":false,"in":"query","description":"Order status to filter by","schema":{"enum":["PENDING","CONFIRMED","CANCELLED"],"type":"string"}},{"name":"search","required":false,"in":"query","description":"Search by customer name or email","schema":{"example":"John Doe","type":"string"}},{"name":"dateFrom","required":false,"in":"query","description":"Date from (ISO string)","schema":{"example":"2025-01-01T00:00:00.000Z","type":"string"}},{"name":"dateTo","required":false,"in":"query","description":"Date to (ISO string)","schema":{"example":"2025-12-31T23:59:59.999Z","type":"string"}},{"name":"offset","required":false,"in":"query","description":"Number of results to skip","schema":{"default":0,"example":0,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of results to return","schema":{"default":50,"example":50,"type":"number"}}],"responses":{"200":{"description":"Orders retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"orders":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"status":{"type":"string"},"totalAmount":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"customer":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"}}},"store":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}}}}}},"pagination":{"type":"object","properties":{"total":{"type":"number"},"offset":{"type":"number"},"limit":{"type":"number"},"hasMore":{"type":"boolean"}}}}}}}}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/store/{storeId}":{"get":{"operationId":"OrdersController_getStoreOrders","summary":"Get store orders","description":"Get all orders for a specific store","parameters":[{"name":"storeId","required":true,"in":"path","description":"Store UUID","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"enum":["PENDING","CONFIRMED","CANCELLED"],"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Number of results","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","description":"Results to skip","schema":{"type":"number"}}],"responses":{"200":{"description":"Store orders retrieved successfully"}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/customer/{customerId}":{"get":{"operationId":"OrdersController_getCustomerOrders","summary":"Get customer orders","description":"Get all orders for a specific customer","parameters":[{"name":"customerId","required":true,"in":"path","description":"Customer UUID","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Number of results","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","description":"Results to skip","schema":{"type":"number"}}],"responses":{"200":{"description":"Customer orders retrieved successfully"}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/stats":{"get":{"operationId":"OrdersController_getOrderStats","summary":"Get order statistics","description":"Get comprehensive order statistics with optional filters","parameters":[{"name":"storeId","required":false,"in":"query","description":"Store UUID to filter by","schema":{"example":"store-uuid-123","type":"string"}},{"name":"dateFrom","required":false,"in":"query","description":"Date from (ISO string)","schema":{"example":"2025-01-01T00:00:00.000Z","type":"string"}},{"name":"dateTo","required":false,"in":"query","description":"Date to (ISO string)","schema":{"example":"2025-12-31T23:59:59.999Z","type":"string"}}],"responses":{"200":{"description":"Order statistics retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"totalOrders":{"type":"number","example":150},"pendingOrders":{"type":"number","example":12},"confirmedOrders":{"type":"number","example":120},"cancelledOrders":{"type":"number","example":8},"completedOrders":{"type":"number","example":110},"totalRevenue":{"type":"number","example":450000},"averageOrderValue":{"type":"number","example":3000},"conversionRate":{"type":"number","example":88.67}}}}}}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/attention":{"get":{"operationId":"OrdersController_getOrdersNeedingAttention","summary":"Get orders needing attention","description":"Get orders with expired reservations or other issues","parameters":[],"responses":{"200":{"description":"Orders needing attention retrieved","content":{"application/json":{"schema":{"type":"object","properties":{"expiredReservationOrders":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"status":{"type":"string"},"totalAmount":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"customer":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}}}}}},"totalNeedingAttention":{"type":"number"}}}}}}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/{orderId}":{"get":{"operationId":"OrdersController_getOrder","summary":"Get order by ID","description":"Get detailed order information including items and reservations","parameters":[{"name":"orderId","required":true,"in":"path","description":"Order UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"order-uuid-123"},"status":{"type":"string","example":"PENDING"},"totalAmount":{"type":"number","example":3000},"notes":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"confirmedAt":{"type":"string","format":"date-time"},"customer":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"address":{"type":"object"}}},"store":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"},"unitPrice":{"type":"number"},"totalPrice":{"type":"number"},"product":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"sku":{"type":"string"},"brand":{"type":"object"}}}}}},"reservations":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"quantity":{"type":"number"},"expiresAt":{"type":"string","format":"date-time"},"status":{"type":"string"}}}}}}}}}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/{orderId}/status":{"put":{"operationId":"OrdersController_updateOrderStatus","summary":"Update order status","description":"Update order status with automatic stock handling","parameters":[{"name":"orderId","required":true,"in":"path","description":"Order UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderStatusDto"}}}},"responses":{"200":{"description":"Order status updated successfully"}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/{orderId}/cancel":{"post":{"operationId":"OrdersController_cancelOrder","summary":"Cancel order","description":"Cancel order with automatic stock reservation release","parameters":[{"name":"orderId","required":true,"in":"path","description":"Order UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order cancelled successfully and stock released"}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/api/orders/cleanup-expired":{"post":{"operationId":"OrdersController_cleanupExpiredOrders","summary":"Cleanup expired orders","description":"Automatically cancel orders with expired reservations","parameters":[],"responses":{"200":{"description":"Expired orders cleaned up successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"count":{"type":"number"}}}}}}},"tags":["orders"],"security":[{"bearer":[]}]}},"/api/uploads/file":{"post":{"operationId":"UploadsController_uploadFile","summary":"Upload a file","parameters":[{"name":"type","required":true,"in":"query","schema":{"type":"string"}},{"name":"folder","required":true,"in":"query","schema":{"type":"string"}},{"name":"filename","required":true,"in":"query","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"},"type":{"type":"string","enum":["image","document","avatar"],"description":"Type of file being uploaded"},"folder":{"type":"string","description":"Optional custom folder name"},"filename":{"type":"string","description":"Optional custom filename"}}}}}},"responses":{"201":{"description":"File uploaded successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"file-uuid-123"},"filename":{"type":"string","example":"product-image-1642686000.jpg"},"originalName":{"type":"string","example":"my-product-image.jpg"},"mimeType":{"type":"string","example":"image/jpeg"},"size":{"type":"number","example":2048576},"type":{"type":"string","example":"IMAGE"},"folder":{"type":"string","example":"products"},"url":{"type":"string","example":"https://example.com/uploads/products/product-image-1642686000.jpg"},"uploadedBy":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000"},"uploadedAt":{"type":"string","format":"date-time","example":"2024-01-20T14:30:00.000Z"}}}}}}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/product-image":{"post":{"operationId":"UploadsController_uploadProductImage","summary":"Upload product image","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"Product image uploaded successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"file-uuid-123"},"filename":{"type":"string","example":"product-image-1642686000.jpg"},"originalName":{"type":"string","example":"my-product-image.jpg"},"url":{"type":"string","example":"https://example.com/uploads/products/product-image-1642686000.jpg"},"type":{"type":"string","example":"IMAGE"},"folder":{"type":"string","example":"products"}}}}}}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/brand-image":{"post":{"operationId":"UploadsController_uploadBrandImage","summary":"Upload brand image","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"Brand image uploaded successfully"}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/store-image":{"post":{"operationId":"UploadsController_uploadStoreImage","summary":"Upload store image","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"Store image uploaded successfully"}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/avatar":{"post":{"operationId":"UploadsController_uploadAvatar","summary":"Upload user avatar","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"Avatar uploaded successfully"}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/file/{fileId}":{"get":{"operationId":"UploadsController_getFile","summary":"Get file information","parameters":[{"name":"fileId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"File information retrieved successfully"}},"tags":["File Upload"],"security":[{"bearer":[]}]},"delete":{"operationId":"UploadsController_deleteFile","summary":"Delete a file","parameters":[{"name":"fileId","required":true,"in":"path","description":"File UUID","schema":{"example":"file-uuid-123","type":"string"}}],"responses":{"200":{"description":"File deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"File deleted successfully"}}}}}}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/my-files":{"get":{"operationId":"UploadsController_getUserFiles","summary":"Get current user files","parameters":[{"name":"type","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"User files retrieved successfully"}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/admin/all-files":{"get":{"operationId":"UploadsController_getAllFiles","summary":"Get all files (Admin only)","parameters":[{"name":"type","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"All files retrieved successfully"}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/uploads/admin/file/{fileId}":{"delete":{"operationId":"UploadsController_adminDeleteFile","summary":"Delete any file (Admin only)","parameters":[{"name":"fileId","required":true,"in":"path","description":"File UUID","schema":{"example":"file-uuid-123","type":"string"}}],"responses":{"200":{"description":"File deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"File deleted successfully"}}}}}}},"tags":["File Upload"],"security":[{"bearer":[]}]}},"/api/storefront/{storeSlug}":{"get":{"operationId":"StorefrontController_getStoreInfo","summary":"Get store information","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"example":"my-awesome-store","type":"string"}}],"responses":{"200":{"description":"Store information retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001"},"name":{"type":"string","example":"My Awesome Store"},"slug":{"type":"string","example":"my-awesome-store"},"description":{"type":"string","example":"A premium retail store offering quality products"},"logo":{"type":"string","example":"https://example.com/logo.png"},"email":{"type":"string","example":"store@example.com"},"phone":{"type":"string","example":"+66-123-456-789"},"address":{"type":"object","example":{"street":"123 Main Street","city":"Bangkok","province":"Bangkok","postalCode":"10110","country":"Thailand"}},"socialLinks":{"type":"object","example":{"facebook":"https://facebook.com/mystore","instagram":"https://instagram.com/mystore","line":"https://line.me/ti/p/mystore"}},"status":{"type":"string","example":"ACTIVE"},"isActive":{"type":"boolean","example":true}}}}}},"404":{"description":"Store not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/{storeSlug}/products":{"get":{"operationId":"StorefrontController_getStoreProducts","summary":"Get store product catalog","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"example":"my-awesome-store","type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order","schema":{"enum":["asc","desc"],"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort field","schema":{"enum":["name","price","created"],"type":"string"}},{"name":"offset","required":false,"in":"query","description":"Pagination offset (default: 0)","schema":{"example":0}},{"name":"limit","required":false,"in":"query","description":"Number of products per page (default: 24)","schema":{"example":24}},{"name":"maxPrice","required":false,"in":"query","description":"Maximum price filter","schema":{"example":50000}},{"name":"minPrice","required":false,"in":"query","description":"Minimum price filter","schema":{"example":1000}},{"name":"brandId","required":false,"in":"query","description":"Filter by brand ID","schema":{"example":"brand-uuid-789"}},{"name":"category","required":false,"in":"query","description":"Filter by category","schema":{"example":"Electronics"}},{"name":"search","required":false,"in":"query","description":"Search term for products","schema":{"example":"iPhone"}}],"responses":{"200":{"description":"Product catalog retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"product-uuid-789"},"name":{"type":"string","example":"iPhone 15 Pro"},"slug":{"type":"string","example":"iphone-15-pro"},"sku":{"type":"string","example":"APL-IPH15P-256-BLK"},"description":{"type":"string","example":"Latest iPhone with advanced camera system"},"category":{"type":"string","example":"Electronics"},"images":{"type":"array","items":{"type":"string"},"example":["https://example.com/iphone15pro-1.jpg"]},"storePrice":{"type":"number","example":39900},"availableQty":{"type":"number","example":15},"brand":{"type":"object","properties":{"id":{"type":"string","example":"brand-uuid-789"},"name":{"type":"string","example":"Apple"},"slug":{"type":"string","example":"apple"}}}}}},"pagination":{"type":"object","properties":{"total":{"type":"number","example":150},"limit":{"type":"number","example":24},"offset":{"type":"number","example":0},"hasMore":{"type":"boolean","example":true}}}}}}}},"404":{"description":"Store not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/{storeSlug}/products/{productSlug}":{"get":{"operationId":"StorefrontController_getProductDetail","summary":"Get product details","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"example":"my-awesome-store","type":"string"}},{"name":"productSlug","required":true,"in":"path","description":"Product slug identifier","schema":{"example":"iphone-15-pro","type":"string"}}],"responses":{"200":{"description":"Product details retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"product-uuid-789"},"name":{"type":"string","example":"iPhone 15 Pro"},"slug":{"type":"string","example":"iphone-15-pro"},"sku":{"type":"string","example":"APL-IPH15P-256-BLK"},"description":{"type":"string","example":"Latest iPhone with advanced camera system and A17 Pro chip"},"category":{"type":"string","example":"Electronics"},"images":{"type":"array","items":{"type":"string"},"example":["https://example.com/iphone15pro-1.jpg","https://example.com/iphone15pro-2.jpg"]},"attributes":{"type":"object","example":{"color":"Black","storage":"256GB","connectivity":"5G"}},"storePrice":{"type":"number","example":39900},"availableQty":{"type":"number","example":15},"isInStock":{"type":"boolean","example":true},"brand":{"type":"object","properties":{"id":{"type":"string","example":"brand-uuid-789"},"name":{"type":"string","example":"Apple"},"slug":{"type":"string","example":"apple"},"logo":{"type":"string","example":"https://example.com/apple-logo.png"}}},"relatedProducts":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"product-uuid-790"},"name":{"type":"string","example":"iPhone 15"},"slug":{"type":"string","example":"iphone-15"},"storePrice":{"type":"number","example":32900},"images":{"type":"array","items":{"type":"string"},"example":["https://example.com/iphone15-1.jpg"]}}}}}}}}},"404":{"description":"Store or product not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/{storeSlug}/products/check-availability":{"post":{"operationId":"StorefrontController_checkProductAvailability","summary":"Check product availability","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"type":"string"}}],"responses":{"200":{"description":"Product availability checked successfully"},"404":{"description":"Store not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/{storeSlug}/categories":{"get":{"operationId":"StorefrontController_getStoreCategories","summary":"Get store categories","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"type":"string"}}],"responses":{"200":{"description":"Store categories retrieved successfully"},"404":{"description":"Store not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/{storeSlug}/brands":{"get":{"operationId":"StorefrontController_getStoreBrands","summary":"Get store brands","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"type":"string"}}],"responses":{"200":{"description":"Store brands retrieved successfully"},"404":{"description":"Store not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/{storeSlug}/search/suggestions":{"get":{"operationId":"StorefrontController_getSearchSuggestions","summary":"Get search suggestions (autocomplete)","parameters":[{"name":"storeSlug","required":true,"in":"path","description":"Store slug identifier","schema":{"type":"string"}},{"name":"q","required":true,"in":"query","description":"Search query (minimum 2 characters)","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Number of suggestions (default: 10)","schema":{"type":"number"}}],"responses":{"200":{"description":"Search suggestions retrieved successfully"},"404":{"description":"Store not found"}},"tags":["Storefront (Public)"]}},"/api/storefront/health":{"get":{"operationId":"StorefrontController_healthCheck","summary":"Storefront health check","parameters":[],"responses":{"200":{"description":"Storefront is healthy"}},"tags":["Storefront (Public)"]}}},"info":{"title":"Interlink Backend API","description":"API documentation for Interlink B2B system","version":"1.0","contact":{}},"tags":[{"name":"auth","description":"Authentication & Authorization"},{"name":"users","description":"User Management APIs"},{"name":"brands","description":"Brand Management APIs"},{"name":"stores","description":"Store Management APIs"},{"name":"products","description":"Product Management APIs"},{"name":"store-brand-entitlements","description":"Store-Brand Entitlement APIs"},{"name":"admin","description":"Admin Management APIs"},{"name":"public","description":"Public APIs"}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"admin@interlink.local","description":"User email address"},"password":{"type":"string","example":"admin123","description":"User password","minLength":6}},"required":["email","password"]},"UserRole":{"type":"string","description":"Updated user role","enum":["ADMIN","STORE_ADMIN","STORE_STAFF","SALE","CUSTOMER_GUEST"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"newuser@example.com","description":"User email address (must be unique)"},"password":{"type":"string","example":"securepassword123","description":"User password","minLength":6},"name":{"type":"string","example":"John Doe","description":"Full name of the user"},"role":{"example":"STORE_ADMIN","$ref":"#/components/schemas/UserRole"},"storeId":{"type":"string","example":"456e7890-e89b-12d3-a456-426614174001","description":"Store ID (required for store-related roles: STORE_ADMIN, STORE_STAFF)"}},"required":["email","password","name","role"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","example":"John Smith Updated","description":"Updated full name of the user"},"isActive":{"type":"boolean","example":true,"description":"Whether the user account is active"},"role":{"example":"STORE_STAFF","$ref":"#/components/schemas/UserRole"},"storeId":{"type":"string","example":"789e0123-e89b-12d3-a456-426614174002","description":"Updated store ID (for store-related roles)"}}},"CreateBrandDto":{"type":"object","properties":{"name":{"type":"string","example":"Tech Gadgets","description":"Brand name","minLength":2,"maxLength":100},"slug":{"type":"string","example":"tech-gadgets","description":"Brand URL slug (unique)","minLength":2,"maxLength":50},"description":{"type":"string","example":"Latest technology and gadgets for modern life","description":"Brand description","maxLength":500},"logo":{"type":"string","example":"https://example.com/logo.png","description":"Brand logo URL"},"isActive":{"type":"boolean","example":true,"description":"Whether the brand is active","default":true}},"required":["name","slug"]},"UpdateBrandDto":{"type":"object","properties":{"name":{"type":"string","example":"Tech Gadgets","description":"Brand name","minLength":2,"maxLength":100},"slug":{"type":"string","example":"tech-gadgets","description":"Brand URL slug (unique)","minLength":2,"maxLength":50},"description":{"type":"string","example":"Latest technology and gadgets for modern life","description":"Brand description","maxLength":500},"logo":{"type":"string","example":"https://example.com/logo.png","description":"Brand logo URL"},"isActive":{"type":"boolean","example":true,"description":"Whether the brand is active","default":true}}},"CreateStoreDto":{"type":"object","properties":{"name":{"type":"string","description":"Store name","example":"My Awesome Store","minLength":2,"maxLength":100},"slug":{"type":"string","description":"Store slug (URL-friendly identifier)","example":"my-awesome-store","pattern":"^[a-z0-9-]+$"},"description":{"type":"string","description":"Store description","example":"A premium retail store offering quality products","maxLength":500},"email":{"type":"string","description":"Store email address","example":"store@example.com"},"phone":{"type":"string","description":"Store phone number","example":"+66-123-456-789"},"address":{"type":"object","description":"Store address (JSON object)","example":{"street":"123 Main Street","city":"Bangkok","province":"Bangkok","postalCode":"10110","country":"Thailand"}},"logo":{"type":"string","description":"Store logo URL","example":"https://example.com/logo.png"},"status":{"type":"string","description":"Store status","enum":["ACTIVE","SUSPENDED","INACTIVE"],"default":"ACTIVE"},"subscriptionStatus":{"type":"string","description":"Subscription status","enum":["TRIAL","ACTIVE","EXPIRED","CANCELLED"],"default":"TRIAL"}},"required":["name","slug","email"]},"UpdateStoreDto":{"type":"object","properties":{"name":{"type":"string","description":"Store name","example":"My Awesome Store","minLength":2,"maxLength":100},"slug":{"type":"string","description":"Store slug (URL-friendly identifier)","example":"my-awesome-store","pattern":"^[a-z0-9-]+$"},"description":{"type":"string","description":"Store description","example":"A premium retail store offering quality products","maxLength":500},"email":{"type":"string","description":"Store email address","example":"store@example.com"},"phone":{"type":"string","description":"Store phone number","example":"+66-123-456-789"},"address":{"type":"object","description":"Store address (JSON object)","example":{"street":"123 Main Street","city":"Bangkok","province":"Bangkok","postalCode":"10110","country":"Thailand"}},"logo":{"type":"string","description":"Store logo URL","example":"https://example.com/logo.png"},"status":{"type":"string","description":"Store status","enum":["ACTIVE","SUSPENDED","INACTIVE"],"default":"ACTIVE"},"subscriptionStatus":{"type":"string","description":"Subscription status","enum":["TRIAL","ACTIVE","EXPIRED","CANCELLED"],"default":"TRIAL"}}},"CreateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"Product name","example":"iPhone 15 Pro","minLength":2,"maxLength":100},"slug":{"type":"string","description":"Product slug (URL-friendly identifier)","example":"iphone-15-pro","pattern":"^[a-z0-9-]+$"},"sku":{"type":"string","description":"Product SKU (Stock Keeping Unit)","example":"APL-IPH15P-256-BLK","minLength":3,"maxLength":50},"description":{"type":"string","description":"Product description","example":"Latest iPhone with advanced camera system and A17 Pro chip","maxLength":1000},"brandId":{"type":"string","description":"Brand ID this product belongs to","example":"uuid-string"},"createdByStoreId":{"type":"string","description":"Store ID that created this product (null for central products)","example":"uuid-string"},"category":{"type":"string","description":"Product category","example":"Electronics"},"price":{"type":"number","description":"Product price","example":39900,"minimum":0},"images":{"description":"Product images (JSON array)","example":["https://example.com/image1.jpg","https://example.com/image2.jpg"],"type":"array","items":{"type":"string"}},"attributes":{"type":"object","description":"Product attributes (JSON object)","example":{"color":"Black","storage":"256GB","connectivity":"5G"}},"status":{"type":"string","description":"Product status","enum":["ACTIVE","INACTIVE","PENDING_APPROVAL","DRAFT"],"default":"ACTIVE"}},"required":["name","slug","sku","brandId","category","price"]},"UpdateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"Product name","example":"iPhone 15 Pro","minLength":2,"maxLength":100},"slug":{"type":"string","description":"Product slug (URL-friendly identifier)","example":"iphone-15-pro","pattern":"^[a-z0-9-]+$"},"sku":{"type":"string","description":"Product SKU (Stock Keeping Unit)","example":"APL-IPH15P-256-BLK","minLength":3,"maxLength":50},"description":{"type":"string","description":"Product description","example":"Latest iPhone with advanced camera system and A17 Pro chip","maxLength":1000},"brandId":{"type":"string","description":"Brand ID this product belongs to","example":"uuid-string"},"createdByStoreId":{"type":"string","description":"Store ID that created this product (null for central products)","example":"uuid-string"},"category":{"type":"string","description":"Product category","example":"Electronics"},"price":{"type":"number","description":"Product price","example":39900,"minimum":0},"images":{"description":"Product images (JSON array)","example":["https://example.com/image1.jpg","https://example.com/image2.jpg"],"type":"array","items":{"type":"string"}},"attributes":{"type":"object","description":"Product attributes (JSON object)","example":{"color":"Black","storage":"256GB","connectivity":"5G"}},"status":{"type":"string","description":"Product status","enum":["ACTIVE","INACTIVE","PENDING_APPROVAL","DRAFT"],"default":"ACTIVE"}}},"CreateStoreBrandEntitlementDto":{"type":"object","properties":{"storeId":{"type":"string","description":"Store ID to grant brand access to","example":"uuid-string"},"brandId":{"type":"string","description":"Brand ID to grant access to","example":"uuid-string"},"pricingMode":{"type":"string","description":"Pricing mode for this brand-store relationship","enum":["CENTRAL","STORE"],"default":"CENTRAL"},"effectiveFrom":{"type":"string","description":"When this entitlement becomes effective (ISO date)","example":"2025-01-01T00:00:00.000Z"},"effectiveTo":{"type":"string","description":"When this entitlement expires (ISO date)","example":"2025-12-31T23:59:59.999Z"}},"required":["storeId","brandId"]},"UpdateStoreBrandEntitlementDto":{"type":"object","properties":{"storeId":{"type":"string","description":"Store ID to grant brand access to","example":"uuid-string"},"brandId":{"type":"string","description":"Brand ID to grant access to","example":"uuid-string"},"pricingMode":{"type":"string","description":"Pricing mode for this brand-store relationship","enum":["CENTRAL","STORE"],"default":"CENTRAL"},"effectiveFrom":{"type":"string","description":"When this entitlement becomes effective (ISO date)","example":"2025-01-01T00:00:00.000Z"},"effectiveTo":{"type":"string","description":"When this entitlement expires (ISO date)","example":"2025-12-31T23:59:59.999Z"}}},"CreateStockDto":{"type":"object","properties":{"storeId":{"type":"string","description":"Store ID","example":"store-uuid-123"},"productId":{"type":"string","description":"Product ID","example":"product-uuid-123"},"variantId":{"type":"string","description":"Product variant ID (if applicable)","example":"variant-uuid-123"},"availableQty":{"type":"number","description":"Available quantity","example":100},"priceCentral":{"type":"number","description":"Central price","example":1500},"priceStore":{"type":"number","description":"Store-specific price (optional)","example":1650}},"required":["storeId","productId","availableQty","priceCentral"]},"UpdateStockDto":{"type":"object","properties":{"availableQty":{"type":"number","description":"Available quantity","example":100},"priceCentral":{"type":"number","description":"Central price","example":1500},"priceStore":{"type":"number","description":"Store-specific price","example":1650}}},"ReserveStockDto":{"type":"object","properties":{"storeId":{"type":"string","description":"Store ID","example":"store-uuid-123"},"productId":{"type":"string","description":"Product ID","example":"product-uuid-123"},"variantId":{"type":"string","description":"Product variant ID (if applicable)","example":"variant-uuid-123"},"quantity":{"type":"number","description":"Quantity to reserve","example":5},"orderId":{"type":"string","description":"Order ID for this reservation","example":"order-uuid-123"},"expiryMinutes":{"type":"number","description":"Reservation expiry in minutes (default: 60)","example":60}},"required":["storeId","productId","quantity","orderId"]},"ReleaseReservationDto":{"type":"object","properties":{"reservationId":{"type":"string","description":"Reservation ID to release","example":"reservation-uuid-123"}},"required":["reservationId"]},"StockAdjustmentDto":{"type":"object","properties":{"stockId":{"type":"string","description":"Stock ID","example":"stock-uuid-123"},"adjustment":{"type":"number","description":"Quantity adjustment (positive or negative)","example":-5},"reason":{"type":"string","description":"Reason for adjustment","example":"Damage during shipping"}},"required":["stockId","adjustment","reason"]},"CustomerInfoDto":{"type":"object","properties":{"name":{"type":"string","description":"Customer name","example":"John Doe"},"phone":{"type":"string","description":"Customer phone number","example":"+66-81-123-4567"},"email":{"type":"string","description":"Customer email","example":"john.doe@example.com"},"address":{"type":"object","description":"Customer address","example":{"street":"123 Main Street","city":"Bangkok","province":"Bangkok","postalCode":"10110","country":"Thailand"}}},"required":["name","phone","email","address"]},"OrderItemDto":{"type":"object","properties":{"productId":{"type":"string","description":"Product ID","example":"product-uuid-123"},"variantId":{"type":"string","description":"Product variant ID (if applicable)","example":"variant-uuid-123"},"quantity":{"type":"number","description":"Quantity to order","example":2},"unitPrice":{"type":"number","description":"Unit price at time of order","example":1500}},"required":["productId","quantity","unitPrice"]},"CreateOrderDto":{"type":"object","properties":{"storeId":{"type":"string","description":"Store ID","example":"store-uuid-123"},"customer":{"description":"Customer information","allOf":[{"$ref":"#/components/schemas/CustomerInfoDto"}]},"items":{"description":"Order items","type":"array","items":{"$ref":"#/components/schemas/OrderItemDto"}},"notes":{"type":"string","description":"Order notes","example":"Please deliver in the morning"},"reservationMinutes":{"type":"number","description":"Reservation expiry in minutes (default: 60)","example":60}},"required":["storeId","customer","items"]},"UpdateOrderStatusDto":{"type":"object","properties":{"status":{"type":"string","description":"New order status","enum":["PENDING","CONFIRMED","CANCELLED"],"example":"CONFIRMED"},"cancelReason":{"type":"string","description":"Cancellation reason (if status is CANCELLED)","example":"Customer requested cancellation"}},"required":["status"]}}}}